!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Draggable={})}(this,function(e){class t{constructor(e){this._canceled=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this._canceled=!0}canceled(){return this._canceled}clone(e){return new this.constructor({...this.data,...e})}}t.type="event",t.cancelable=!1;class r{constructor(e){this.draggable=e}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}let s={mouse:0,drag:0,touch:100};class n{constructor(e=[],t={}){this.containers=[...e],this.options={...t},this.dragging=!1,this.currentContainer=null,this.originalSource=null,this.startEvent=null,this.delay=function(e){var t={};if(void 0===e)return{...s};if("number"==typeof e)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=e);else for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(void 0===e[n]?t[n]=s[n]:t[n]=e[n]);return t}(t.delay)}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...t){this.containers=this.containers.filter(e=>!t.includes(e))}trigger(e,t){var r=document.createEvent("Event");return r.detail=t,r.initEvent(t.type,!0,!0),e.dispatchEvent(r),this.lastEvent=t}}function l(t,r){if(null!=t){let e=t;do{if(n(e=e.correspondingUseElement||e.correspondingElement||e))return e}while(null!=(e=e?.parentNode||null)&&e!==document.body&&e!==document);function n(e){return null!=e&&null!=r&&(Boolean("string"==typeof r)?Element.prototype.matches.call(e,r):(t=r,Boolean(t instanceof NodeList||t instanceof Array)?[...r].includes(e):Boolean(r instanceof Node)?r===e:Boolean("function"==typeof r)&&r(e)));var t}}return null}function P(e,{name:t,addInitializer:r}){r(function(){this[t]=e.bind(this)})}function I(e,t,r,n){return Math.sqrt((r-e)**2+(n-t)**2)}function a(e){var{touches:e,changedTouches:t}=e;return e&&e[0]||t&&t[0]}class i extends t{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get originalSource(){return this.data.originalSource}get pressure(){return this.data.pressure}}class o extends i{}o.type="drag:start";class h extends i{}h.type="drag:move";class c extends i{}c.type="drag:stop";class k extends i{}k.type="drag:pressure";let d=Symbol("onContextMenuWhileDragging"),g=Symbol("onMouseDown"),u=Symbol("onMouseMove"),m=Symbol("onMouseUp"),B=Symbol("startDrag"),p=Symbol("onDistanceChange");class q extends n{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.pageX=null,this.pageY=null,this[d]=this[d].bind(this),this[g]=this[g].bind(this),this[u]=this[u].bind(this),this[m]=this[m].bind(this),this[B]=this[B].bind(this),this[p]=this[p].bind(this)}attach(){document.addEventListener("mousedown",this[g],!0)}detach(){document.removeEventListener("mousedown",this[g],!0)}[g](e){var t,r,n,s,i;0!==e.button||e.ctrlKey||e.metaKey||!(t=l(e.target,this.containers))||this.options.handle&&e.target&&!l(e.target,this.options.handle)||(r=l(e.target,this.options.draggable))&&(n=this["delay"],{pageX:s,pageY:i}=e,Object.assign(this,{pageX:s,pageY:i}),this.onMouseDownAt=Date.now(),this.startEvent=e,this.currentContainer=t,this.originalSource=r,document.addEventListener("mouseup",this[m]),document.addEventListener("dragstart",$),document.addEventListener("mousemove",this[p]),this.mouseDownTimeout=window.setTimeout(()=>{this[p]({pageX:this.pageX,pageY:this.pageY})},n.mouse))}[B](){var e=this.startEvent,t=this.currentContainer,r=this.originalSource,t=new o({clientX:e.clientX,clientY:e.clientY,target:e.target,container:t,originalSource:r,originalEvent:e});this.trigger(this.currentContainer,t),this.dragging=!t.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[d],!0),document.addEventListener("mousemove",this[u]))}[p](e){var t,{pageX:e,pageY:r}=e,n=this.options["distance"],{startEvent:s,delay:i}=this;Object.assign(this,{pageX:e,pageY:r}),this.currentContainer&&(t=Date.now()-this.onMouseDownAt,s=I(s.pageX,s.pageY,e,r)||0,clearTimeout(this.mouseDownTimeout),t<i.mouse?document.removeEventListener("mousemove",this[p]):n<=s&&(document.removeEventListener("mousemove",this[p]),this[B]()))}[u](e){var t;this.dragging&&(t=document.elementFromPoint(e.clientX,e.clientY),t=new h({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,t))}[m](e){var t;clearTimeout(this.mouseDownTimeout),0===e.button&&(document.removeEventListener("mouseup",this[m]),document.removeEventListener("dragstart",$),document.removeEventListener("mousemove",this[p]),this.dragging)&&(t=document.elementFromPoint(e.clientX,e.clientY),t=new c({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,t),document.removeEventListener("contextmenu",this[d],!0),document.removeEventListener("mousemove",this[u]),this.currentContainer=null,this.dragging=!1,this.startEvent=null)}[d](e){e.preventDefault()}}function $(e){e.preventDefault()}let v=Symbol("onTouchStart"),b=Symbol("onTouchEnd"),f=Symbol("onTouchMove"),j=Symbol("startDrag"),y=Symbol("onDistanceChange"),_=!1;window.addEventListener("touchmove",e=>{_&&e.preventDefault()},{passive:!1});class H extends n{constructor(e=[],t={}){super(e,t),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this.pageX=null,this.pageY=null,this[v]=this[v].bind(this),this[b]=this[b].bind(this),this[f]=this[f].bind(this),this[j]=this[j].bind(this),this[y]=this[y].bind(this)}attach(){document.addEventListener("touchstart",this[v])}detach(){document.removeEventListener("touchstart",this[v])}[v](e){var t,r,n,s,i,o=l(e.target,this.containers);!o||this.options.handle&&e.target&&!l(e.target,this.options.handle)||(t=l(e.target,this.options.draggable))&&({distance:r=0}=this.options,n=this["delay"],{pageX:s,pageY:i}=a(e),Object.assign(this,{pageX:s,pageY:i}),this.onTouchStartAt=Date.now(),this.startEvent=e,this.currentContainer=o,this.originalSource=t,document.addEventListener("touchend",this[b]),document.addEventListener("touchcancel",this[b]),document.addEventListener("touchmove",this[y]),o.addEventListener("contextmenu",R),r&&(_=!0),this.tapTimeout=window.setTimeout(()=>{this[y]({touches:[{pageX:this.pageX,pageY:this.pageY}]})},n.touch))}[j](){var e=this.startEvent,t=this.currentContainer,r=a(e),n=this.originalSource,r=new o({clientX:r.pageX,clientY:r.pageY,target:e.target,container:t,originalSource:n,originalEvent:e});this.trigger(this.currentContainer,r),this.dragging=!r.canceled(),this.dragging&&document.addEventListener("touchmove",this[f]),_=this.dragging}[y](e){var t=this.options["distance"],{startEvent:r,delay:n}=this,r=a(r),e=a(e),s=Date.now()-this.onTouchStartAt,r=I(r.pageX,r.pageY,e.pageX,e.pageY);Object.assign(this,e),clearTimeout(this.tapTimeout),s<n.touch?document.removeEventListener("touchmove",this[y]):t<=r&&(document.removeEventListener("touchmove",this[y]),this[j]())}[f](e){var t,r,n;this.dragging&&({pageX:n,pageY:t}=a(e),r=document.elementFromPoint(n-window.scrollX,t-window.scrollY),n=new h({clientX:n,clientY:t,target:r,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,n))}[b](e){var t,r,n;clearTimeout(this.tapTimeout),_=!1,document.removeEventListener("touchend",this[b]),document.removeEventListener("touchcancel",this[b]),document.removeEventListener("touchmove",this[y]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",R),this.dragging&&(document.removeEventListener("touchmove",this[f]),{pageX:n,pageY:t}=a(e),r=document.elementFromPoint(n-window.scrollX,t-window.scrollY),e.preventDefault(),n=new c({clientX:n,clientY:t,target:r,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,n),this.currentContainer=null,this.dragging=!1,this.startEvent=null)}}function R(e){e.preventDefault(),e.stopPropagation()}let E=Symbol("onMouseDown"),C=Symbol("onMouseUp"),S=Symbol("onDragStart"),w=Symbol("onDragOver"),x=Symbol("onDragEnd"),D=Symbol("onDrop"),U=Symbol("reset");class W extends n{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[E]=this[E].bind(this),this[C]=this[C].bind(this),this[S]=this[S].bind(this),this[w]=this[w].bind(this),this[x]=this[x].bind(this),this[D]=this[D].bind(this)}attach(){document.addEventListener("mousedown",this[E],!0)}detach(){document.removeEventListener("mousedown",this[E],!0)}[S](t){t.dataTransfer.setData("text",""),t.dataTransfer.effectAllowed=this.options.type;var r=document.elementFromPoint(t.clientX,t.clientY),n=this.draggableElement;if(n){let e=new o({clientX:t.clientX,clientY:t.clientY,target:r,originalSource:n,container:this.currentContainer,originalEvent:t});setTimeout(()=>{this.trigger(this.currentContainer,e),e.canceled()?this.dragging=!1:this.dragging=!0},0)}}[w](e){var t,r;this.dragging&&(r=document.elementFromPoint(e.clientX,e.clientY),t=this.currentContainer,r=new h({clientX:e.clientX,clientY:e.clientY,target:r,container:t,originalEvent:e}),this.trigger(t,r),r.canceled()||(e.preventDefault(),e.dataTransfer.dropEffect=this.options.type))}[x](e){var t,r;this.dragging&&(document.removeEventListener("mouseup",this[C],!0),r=document.elementFromPoint(e.clientX,e.clientY),t=this.currentContainer,r=new c({clientX:e.clientX,clientY:e.clientY,target:r,container:t,originalEvent:e}),this.trigger(t,r),this.dragging=!1,this.startEvent=null,this[U]())}[D](e){e.preventDefault()}[E](t){if(!t.target||!t.target.form&&!t.target.contenteditable){var r=t.target;if(this.currentContainer=l(r,this.containers),this.currentContainer&&(!this.options.handle||!r||l(r,this.options.handle))){let e=l(r,this.options.draggable);e&&((r=l(t.target,e=>e.draggable))&&(r.draggable=!1,this.nativeDraggableElement=r),document.addEventListener("mouseup",this[C],!0),document.addEventListener("dragstart",this[S],!1),document.addEventListener("dragover",this[w],!1),document.addEventListener("dragend",this[x],!1),document.addEventListener("drop",this[D],!1),this.startEvent=t,this.mouseDownTimeout=setTimeout(()=>{e.draggable=!0,this.draggableElement=e},this.delay.drag))}}}[C](){this[U]()}[U](){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[C],!0),document.removeEventListener("dragstart",this[S],!1),document.removeEventListener("dragover",this[w],!1),document.removeEventListener("dragend",this[x],!1),document.removeEventListener("drop",this[D],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}let L=Symbol("onMouseForceWillBegin"),V=Symbol("onMouseForceDown"),G=Symbol("onMouseDown"),K=Symbol("onMouseForceChange"),Z=Symbol("onMouseMove"),J=Symbol("onMouseUp");var Q=Symbol("onMouseForceGlobalChange");class ee extends n{constructor(e=[],t={}){super(e,t),this.mightDrag=!1,this[L]=this[L].bind(this),this[V]=this[V].bind(this),this[G]=this[G].bind(this),this[K]=this[K].bind(this),this[Z]=this[Z].bind(this),this[J]=this[J].bind(this)}attach(){for(var e of this.containers)e.addEventListener("webkitmouseforcewillbegin",this[L],!1),e.addEventListener("webkitmouseforcedown",this[V],!1),e.addEventListener("mousedown",this[G],!0),e.addEventListener("webkitmouseforcechanged",this[K],!1);document.addEventListener("mousemove",this[Z]),document.addEventListener("mouseup",this[J])}detach(){for(var e of this.containers)e.removeEventListener("webkitmouseforcewillbegin",this[L],!1),e.removeEventListener("webkitmouseforcedown",this[V],!1),e.removeEventListener("mousedown",this[G],!0),e.removeEventListener("webkitmouseforcechanged",this[K],!1);document.removeEventListener("mousemove",this[Z]),document.removeEventListener("mouseup",this[J])}[L](e){e.preventDefault(),this.mightDrag=!0}[V](e){var t,r,n;this.dragging||(n=document.elementFromPoint(e.clientX,e.clientY),t=e.currentTarget,this.options.handle&&n&&!l(n,this.options.handle))||(r=l(n,this.options.draggable))&&(n=new o({clientX:e.clientX,clientY:e.clientY,target:n,container:t,originalSource:r,originalEvent:e}),this.trigger(t,n),this.currentContainer=t,this.dragging=!n.canceled(),this.mightDrag=!1)}[J](e){this.dragging&&(e=new c({clientX:e.clientX,clientY:e.clientY,target:null,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,e),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1)}[G](e){this.mightDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}[Z](e){var t;this.dragging&&(t=document.elementFromPoint(e.clientX,e.clientY),t=new h({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,t))}[K](e){var t,r;this.dragging||(r=e.target,t=e.currentTarget,r=new k({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:r,container:t,originalEvent:e}),this.trigger(t,r))}[Q](e){var t;this.dragging&&(t=e.target,t=new k({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e}),this.trigger(this.currentContainer,t))}}var te,Q=Object.freeze({__proto__:null,DragMoveSensorEvent:h,DragPressureSensorEvent:k,DragSensor:W,DragStartSensorEvent:o,DragStopSensorEvent:c,ForceTouchSensor:ee,MouseSensor:q,Sensor:n,SensorEvent:i,TouchSensor:H});class re extends t{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}re.type="collidable";class ne extends re{get collidingElement(){return this.data.collidingElement}}ne.type="collidable:in";class se extends re{get collidingElement(){return this.data.collidingElement}}se.type="collidable:out";let ie=Symbol("onDragMove"),oe=Symbol("onDragStop"),ae=Symbol("onRequestAnimationFrame");class le extends r{constructor(e){super(e),this.currentlyCollidingElement=null,this.lastCollidingElement=null,this.currentAnimationFrame=null,this[ie]=this[ie].bind(this),this[oe]=this[oe].bind(this),this[ae]=this[ae].bind(this)}attach(){this.draggable.on("drag:move",this[ie]).on("drag:stop",this[oe])}detach(){this.draggable.off("drag:move",this[ie]).off("drag:stop",this[oe])}getCollidables(){var e=this.draggable.options.collidables;return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):e instanceof NodeList||e instanceof Array?Array.prototype.slice.call(e):e instanceof HTMLElement?[e]:"function"==typeof e?e():[]}[ie](e){var t=e.sensorEvent.target,t=(this.currentAnimationFrame=requestAnimationFrame(this[ae](t)),this.currentlyCollidingElement&&e.cancel(),new ne({dragEvent:e,collidingElement:this.currentlyCollidingElement})),e=new se({dragEvent:e,collidingElement:this.lastCollidingElement}),r=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement),n=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);r?(this.lastCollidingElement&&this.draggable.trigger(e),this.draggable.trigger(t)):n&&this.draggable.trigger(e),this.lastCollidingElement=this.currentlyCollidingElement}[oe](e){var t=this.currentlyCollidingElement||this.lastCollidingElement,e=new se({dragEvent:e,collidingElement:t});t&&this.draggable.trigger(e),this.lastCollidingElement=null,this.currentlyCollidingElement=null}[ae](e){return()=>{let t=this.getCollidables();this.currentlyCollidingElement=l(e,e=>t.includes(e))}}}function he(r,n){return function(e){var t="addInitializer";if(n.v)throw new Error("attempted to call "+t+" after decoration was finished");de(e,"An initializer"),r.push(e)}}function ce(e,t){if(!e(t))throw new TypeError("Attempted to access private element on non-instance")}function de(e,t){if("function"!=typeof e)throw new TypeError(t+" must be a function")}function ge(e,t){var r=typeof t;if(1===e){if("object"!=r||null===t)throw new TypeError("accessor decorators must return an object with get, set, or init properties or void 0");void 0!==t.get&&de(t.get,"accessor.get"),void 0!==t.set&&de(t.set,"accessor.set"),void 0!==t.init&&de(t.init,"accessor.init")}else if("function"!=r)throw new TypeError((0===e?"field":5===e?"class":"method")+" decorators must return a function or void 0")}function ue(e,t,r,n,s,i,o,a,l,h,c){var d,g,u,m,p,v=r[0];n||Array.isArray(v)||(v=[v]),a?d=0===i||1===i?{get:(p=r[3],function(){return p(this)}),set:(m=r[4],function(e){m(this,e)})}:3===i?{get:r[3]}:4===i?{set:r[3]}:{value:r[3]}:0!==i&&(d=Object.getOwnPropertyDescriptor(t,s)),1===i?g={get:d.get,set:d.set}:2===i?g=d.value:3===i?g=d.get:4===i&&(g=d.set);for(var b,f,y,E,C=n?2:1,S=v.length-1;0<=S;S-=C)void 0!==(u=function(e,t,r,n,s,i,o,a,l,h,c){var d;switch(i){case 1:d="accessor";break;case 2:d="method";break;case 3:d="getter";break;case 4:d="setter";break;default:d="field"}var g,u,o={kind:d,name:a?"#"+r:r,static:o,private:a,metadata:c},c={v:!1},s=(0!==i&&(o.addInitializer=he(s,c)),a||0!==i&&2!==i?2===i?g=function(e){return ce(h,e),n.value}:(!(s=0===i||1===i)&&3!==i||(g=a?function(e){return ce(h,e),n.get.call(e)}:function(e){return n.get.call(e)}),!s&&4!==i||(u=a?function(e,t){ce(h,e),n.set.call(e,t)}:function(e,t){n.set.call(e,t)})):(g=function(e){return e[r]},0===i&&(u=function(e,t){e[r]=t})),a?h.bind():function(e){return r in e});o.access=g&&u?{get:g,set:u,has:s}:g?{get:g,has:s}:{set:u,has:s};try{return e.call(t,l,o)}finally{c.v=!0}}(v[S],n?v[S-1]:void 0,s,d,l,i,o,a,g,h,c))&&(ge(i,u),0===i?b=u:g=1===i?(b=u.init,{get:u.get||g.get,set:u.set||g.set}):u,void 0!==b)&&(void 0===y?y=b:"function"==typeof y?y=[y,b]:y.push(b));0!==i&&1!==i||(y=void 0===y?function(e,t){return t}:"function"!=typeof y?(f=y,function(e,t){for(var r=t,n=f.length-1;0<=n;n--)r=f[n].call(e,r);return r}):(E=y,function(e,t){return E.call(e,t)}),e.push(y)),0!==i&&(1===i?(d.get=g.get,d.set=g.set):2===i?d.value=g:3===i?d.get=g:4===i&&(d.set=g),a?1===i?(e.push(function(e,t){return g.get.call(e,t)}),e.push(function(e,t){return g.set.call(e,t)})):2===i?e.push(g):e.push(function(e,t){return g.call(e,t)}):Object.defineProperty(t,s,d))}function me(t,e,r,n){for(var s,i,o,a=[],l=new Map,h=new Map,c=0;c<e.length;c++){var d=e[c];if(Array.isArray(d)){var g,u,m=d[1],p=d[2],v=3<d.length,b=16&m,f=!!(8&m),y=r;if(m&=7,f?(g=t,0!=m&&(u=i=i||[]),y=o=v&&!o?function(e){return function(e){if(Object(e)!==e)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==e?typeof e:"null"));return e}(e)===t}:o):(g=t.prototype,0!=m&&(u=s=s||[])),0!=m&&!v){var E=f?h:l,C=E.get(p)||0;if(!0===C||3===C&&4!=m||4===C&&3!=m)throw new Error("Attempted to decorate a public method/accessor that has the same name as a previously decorated public method/accessor. This is not currently supported by the decorators plugin. Property name was: "+p);E.set(p,!(!C&&2<m)||m)}ue(a,g,d,b,p,m,f,v,u,y,n)}}return pe(a,s),pe(a,i),a}function pe(e,r){r&&e.push(function(e){for(var t=0;t<r.length;t++)r[t].call(e);return e})}function ve(e,t){return Object.defineProperty(e,Symbol.metadata||Symbol.for("Symbol.metadata"),{configurable:!0,enumerable:!0,value:t})}function be(d,e,g,u,t,r){6<=arguments.length&&(n=r[Symbol.metadata||Symbol.for("Symbol.metadata")]);var n,m=Object.create(void 0===n?null:n),r=me(d,e,t,m);return g.length||ve(d,m),{e:r,get c(){var e=d,t=g,r=u,n=m;if(t.length){for(var s=[],i=e,o=e.name,a=r?2:1,l=t.length-1;0<=l;l-=a){var h={v:!1};try{var c=t[l].call(r?t[l-1]:void 0,i,{kind:"class",name:o,addInitializer:he(s,h),metadata:n})}finally{h.v=!0}void 0!==c&&(ge(5,c),i=c)}return[ve(i,n),function(){for(var e=0;e<s.length;e++)s[e].call(i)}]}}}}class O extends t{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}O.type="drag";class fe extends O{}fe.type="drag:start",fe.cancelable=!0;class ye extends O{}ye.type="drag:move";class Ee extends O{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Ee.type="drag:over",Ee.cancelable=!0;class Ce extends O{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}Ce.type="drag:out";class Se extends O{get overContainer(){return this.data.overContainer}}Se.type="drag:over:container";class we extends O{get overContainer(){return this.data.overContainer}}we.type="drag:out:container";class xe extends O{get pressure(){return this.data.pressure}}xe.type="drag:pressure";class De extends O{}De.type="drag:stop",De.cancelable=!0;class Le extends O{}Le.type="drag:stopped";var Oe,F;class Fe extends r{constructor(e){te(super(e)),this.lastWidth=0,this.lastHeight=0,this.mirror=null}attach(){this.draggable.on("mirror:created",this.onMirrorCreated).on("drag:over",this.onDragOver).on("drag:over:container",this.onDragOver)}detach(){this.draggable.off("mirror:created",this.onMirrorCreated).off("mirror:destroy",this.onMirrorDestroy).off("drag:over",this.onDragOver).off("drag:over:container",this.onDragOver)}getOptions(){return this.draggable.options.resizeMirror||{}}onMirrorCreated({mirror:e}){this.mirror=e}onMirrorDestroy(){this.mirror=null}onDragOver(e){this.resize(e)}resize(s){requestAnimationFrame(()=>{let e=null;var r,n=s["overContainer"];if(null!=this.mirror&&null!=this.mirror.parentNode){this.mirror.parentNode!==n&&n.appendChild(this.mirror);let t=(e=s.type===Ee.type?s.over:e)||this.draggable.getDraggableElementsForContainer(n)[0];t&&(r=()=>{var e=t.getBoundingClientRect();null==this.mirror||this.lastHeight===e.height&&this.lastWidth===e.width||(this.mirror.style.width=e.width+"px",this.mirror.style.height=e.height+"px",this.lastWidth=e.width,this.lastHeight=e.height)},requestAnimationFrame(()=>{requestAnimationFrame(r)}))}})}}[te]=be(Fe,[[P,2,"onMirrorCreated"],[P,2,"onMirrorDestroy"],[P,2,"onDragOver"]],[],0,void 0,r).e;class Xe extends t{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}Xe.type="snap";class Ye extends Xe{}Ye.type="snap:in",Ye.cancelable=!0;class Te extends Xe{}Te.type="snap:out",Te.cancelable=!0;let Me=Symbol("onDragStart"),Ae=Symbol("onDragStop"),X=Symbol("onDragOver"),Y=Symbol("onDragOut"),Ne=Symbol("onMirrorCreated"),ze=Symbol("onMirrorDestroy");class Pe extends r{constructor(e){super(e),this.firstSource=null,this.mirror=null,this[Me]=this[Me].bind(this),this[Ae]=this[Ae].bind(this),this[X]=this[X].bind(this),this[Y]=this[Y].bind(this),this[Ne]=this[Ne].bind(this),this[ze]=this[ze].bind(this)}attach(){this.draggable.on("drag:start",this[Me]).on("drag:stop",this[Ae]).on("drag:over",this[X]).on("drag:out",this[Y]).on("droppable:over",this[X]).on("droppable:out",this[Y]).on("mirror:created",this[Ne]).on("mirror:destroy",this[ze])}detach(){this.draggable.off("drag:start",this[Me]).off("drag:stop",this[Ae]).off("drag:over",this[X]).off("drag:out",this[Y]).off("droppable:over",this[X]).off("droppable:out",this[Y]).off("mirror:created",this[Ne]).off("mirror:destroy",this[ze])}[Me](e){e.canceled()||(this.firstSource=e.source)}[Ae](){this.firstSource=null}[X](t){if(!t.canceled()){let e=t.source||t.dragEvent.source;e===this.firstSource?this.firstSource=null:(t=new Ye({dragEvent:t,snappable:t.over||t.droppable}),this.draggable.trigger(t),t.canceled()||(this.mirror&&(this.mirror.style.display="none"),e.classList.remove(...this.draggable.getClassNamesFor("source:dragging")),e.classList.add(...this.draggable.getClassNamesFor("source:placed")),setTimeout(()=>{e.classList.remove(...this.draggable.getClassNamesFor("source:placed"))},this.draggable.options.placedTimeout)))}}[Y](e){var t;e.canceled()||(t=e.source||e.dragEvent.source,e=new Te({dragEvent:e,snappable:e.over||e.droppable}),this.draggable.trigger(e),e.canceled())||(this.mirror&&(this.mirror.style.display=""),t.classList.add(...this.draggable.getClassNamesFor("source:dragging")))}[Ne]({mirror:e}){this.mirror=e}[ze](){this.mirror=null}}let Ie={duration:150,easingFunction:"ease-in-out",horizontal:!1};class ke extends r{constructor(e){Oe(super(e)),this.options={...Ie,...this.getOptions()},this.lastAnimationFrame=null}attach(){this.draggable.on("sortable:sorted",this.onSortableSorted)}detach(){this.draggable.off("sortable:sorted",this.onSortableSorted)}getOptions(){return this.draggable.options.swapAnimation||{}}onSortableSorted({oldIndex:e,newIndex:t,dragEvent:r}){let{source:n,over:s}=r;this.lastAnimationFrame&&cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{t<=e?Be(n,s,this.options):Be(s,n,this.options)})}}function Be(t,r,{duration:n,easingFunction:s,horizontal:e}){for(var i of[t,r])i.style.pointerEvents="none";e?(e=t.offsetWidth,t.style.transform=`translate3d(${e}px, 0, 0)`,r.style.transform=`translate3d(-${e}px, 0, 0)`):(e=t.offsetHeight,t.style.transform=`translate3d(0, ${e}px, 0)`,r.style.transform=`translate3d(0, -${e}px, 0)`),requestAnimationFrame(()=>{for(var e of[t,r])e.addEventListener("transitionend",qe),e.style.transition=`transform ${n}ms `+s,e.style.transform=""})}function qe(e){var t;null!=e.target&&(t=e.target,Boolean("style"in t))&&(e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",qe))}[Oe]=be(ke,[[P,2,"onSortableSorted"]],[],0,void 0,r).e;let $e=Symbol("onSortableSorted"),je=Symbol("onSortableSort"),_e={duration:150,easingFunction:"ease-in-out"};class He extends r{constructor(e){super(e),this.options={..._e,...this.getOptions()},this.lastAnimationFrame=null,this.lastElements=[],this[$e]=this[$e].bind(this),this[je]=this[je].bind(this)}attach(){this.draggable.on("sortable:sort",this[je]),this.draggable.on("sortable:sorted",this[$e])}detach(){this.draggable.off("sortable:sort",this[je]),this.draggable.off("sortable:sorted",this[$e])}getOptions(){return this.draggable.options.sortAnimation||{}}[je]({dragEvent:e}){e=e.sourceContainer,e=this.draggable.getDraggableElementsForContainer(e);this.lastElements=Array.from(e).map(e=>({domEl:e,offsetTop:e.offsetTop,offsetLeft:e.offsetLeft}))}[$e]({oldIndex:e,newIndex:i}){if(e!==i){let t=[],r,n,s;s=i<e?(r=i,n=e-1,1):(r=e+1,n=i,-1);for(let e=r;e<=n;e++){var o=this.lastElements[e],a=this.lastElements[e+s];t.push({from:o,to:a})}cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{t.forEach(n=>{{var[{from:n,to:s},{duration:i,easingFunction:o}]=[n,this.options];let e=n.domEl,t=n.offsetLeft-s.offsetLeft,r=n.offsetTop-s.offsetTop;e.style.pointerEvents="none",e.style.transform=`translate3d(${t}px, ${r}px, 0)`,requestAnimationFrame(()=>{e.addEventListener("transitionend",Re),e.style.transition=`transform ${i}ms `+o,e.style.transform=""})}})})}}}function Re(e){e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",Re)}let Ue=Object.freeze({__proto__:null,Collidable:le,ResizeMirror:Fe,Snappable:Pe,SortAnimation:He,SwapAnimation:ke,defaultResizeMirrorOptions:{},defaultSortAnimationOptions:_e,defaultSwapAnimationOptions:Ie}),We=Symbol("onInitialize"),Ve=Symbol("onDestroy"),Ge=Symbol("announceEvent"),Ke=Symbol("announceMessage"),Ze={expire:7e3};class Je extends r{constructor(e){super(e),this.options={...Ze,...this.getOptions()},this.originalTriggerMethod=this.draggable.trigger,this[We]=this[We].bind(this),this[Ve]=this[Ve].bind(this)}attach(){this.draggable.on("draggable:initialize",this[We])}detach(){this.draggable.off("draggable:destroy",this[Ve])}getOptions(){return this.draggable.options.announcements||{}}[Ge](e){var t=this.options[e.type];t&&"string"==typeof t&&this[Ke](t),t&&"function"==typeof t&&this[Ke](t(e))}[Ke](t){{var[t,r]=[t,this.options.expire];let e=document.createElement("div");e.textContent=t,Qe.appendChild(e),setTimeout(()=>{Qe.removeChild(e)},r)}}[We](){this.draggable.trigger=e=>{try{this[Ge](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[Ve](){this.draggable.trigger=this.originalTriggerMethod}}(F=document.createElement("div")).setAttribute("id","draggable-live-region"),F.setAttribute("aria-relevant","additions"),F.setAttribute("aria-atomic","true"),F.setAttribute("aria-live","assertive"),F.setAttribute("role","log"),F.style.position="fixed",F.style.width="1px",F.style.height="1px",F.style.top="-1px",F.style.overflow="hidden";let Qe=F;document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(Qe)});let et=Symbol("onInitialize"),T=Symbol("onDestroy"),tt={};class rt extends r{constructor(e){super(e),this.options={...tt,...this.getOptions()},this[et]=this[et].bind(this),this[T]=this[T].bind(this)}attach(){this.draggable.on("draggable:initialize",this[et]).on("draggable:destroy",this[T])}detach(){this.draggable.off("draggable:initialize",this[et]).off("draggable:destroy",this[T]),this[T]()}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[et](){requestAnimationFrame(()=>{this.getElements().forEach(e=>{e=e,Boolean(!e.getAttribute("tabindex")&&-1===e.tabIndex)&&(nt.push(e),e.tabIndex=0)})})}[T](){requestAnimationFrame(()=>{this.getElements().forEach(e=>{var t;e=e,-1!==(t=nt.indexOf(e))&&(e.tabIndex=-1,nt.splice(t,1))})})}}let nt=[];class M extends t{constructor(e){super(e),this.data=e}get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}class st extends M{}st.type="mirror:create";class it extends M{get mirror(){return this.data.mirror}}it.type="mirror:created";class ot extends M{get mirror(){return this.data.mirror}}ot.type="mirror:attached";class at extends M{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}at.type="mirror:move",at.cancelable=!0;class lt extends M{get mirror(){return this.data.mirror}get passedThreshX(){return this.data.passedThreshX}get passedThreshY(){return this.data.passedThreshY}}lt.type="mirror:moved";class ht extends M{get mirror(){return this.data.mirror}}ht.type="mirror:destroy",ht.cancelable=!0;let ct=Symbol("onDragStart"),dt=Symbol("onDragMove"),gt=Symbol("onDragStop"),ut=Symbol("onMirrorCreated"),mt=Symbol("onMirrorMove"),pt=Symbol("onScroll"),vt=Symbol("getAppendableContainer"),bt={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null,thresholdX:null,thresholdY:null};class ft extends r{constructor(e){super(e),this.options={...bt,...this.getOptions()},this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[ct]=this[ct].bind(this),this[dt]=this[dt].bind(this),this[gt]=this[gt].bind(this),this[ut]=this[ut].bind(this),this[mt]=this[mt].bind(this),this[pt]=this[pt].bind(this)}attach(){this.draggable.on("drag:start",this[ct]).on("drag:move",this[dt]).on("drag:stop",this[gt]).on("mirror:created",this[ut]).on("mirror:move",this[mt])}detach(){this.draggable.off("drag:start",this[ct]).off("drag:move",this[dt]).off("drag:stop",this[gt]).off("mirror:created",this[ut]).off("mirror:move",this[mt])}getOptions(){return this.draggable.options.mirror||{}}[ct](e){var t,r,n,s,i,o;e.canceled()||("ontouchstart"in window&&document.addEventListener("scroll",this[pt],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY},{source:o,originalSource:t,sourceContainer:r,sensorEvent:n}=e,this.lastMirrorMovedClient={x:n.clientX,y:n.clientY},s=new st({source:o,originalSource:t,sourceContainer:r,sensorEvent:n,dragEvent:e}),this.draggable.trigger(s),/^drag/.test(n.originalEvent.type))||s.canceled()||(s=this[vt](o)||r,this.mirror=o.cloneNode(!0),i=new it({source:o,originalSource:t,sourceContainer:r,sensorEvent:n,dragEvent:e,mirror:this.mirror}),o=new ot({source:o,originalSource:t,sourceContainer:r,sensorEvent:n,dragEvent:e,mirror:this.mirror}),this.draggable.trigger(i),s.appendChild(this.mirror),this.draggable.trigger(o))}[dt](r){if(this.mirror&&!r.canceled()){var{source:n,originalSource:s,sourceContainer:i,sensorEvent:o}=r;let e=!0,t=!0;if(this.options.thresholdX||this.options.thresholdY){var{x:a,y:l}=this.lastMirrorMovedClient;if(Math.abs(a-o.clientX)<this.options.thresholdX?e=!1:this.lastMirrorMovedClient.x=o.clientX,Math.abs(l-o.clientY)<this.options.thresholdY?t=!1:this.lastMirrorMovedClient.y=o.clientY,!e&&!t)return}a=new at({source:n,originalSource:s,sourceContainer:i,sensorEvent:o,dragEvent:r,mirror:this.mirror,passedThreshX:e,passedThreshY:t});this.draggable.trigger(a)}}[gt](e){var t,r,n;"ontouchstart"in window&&document.removeEventListener("scroll",this[pt],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},this.mirror&&({source:n,sourceContainer:t,sensorEvent:r}=e,n=new ht({source:n,mirror:this.mirror,sourceContainer:t,sensorEvent:r,dragEvent:e}),this.draggable.trigger(n),n.canceled()||this.mirror.remove())}[pt](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[ut]({mirror:e,source:t,sensorEvent:r}){var n=this.draggable.getClassNamesFor("mirror"),e=(e.style.display="none",{mirror:e,source:t,sensorEvent:r,mirrorClasses:n,scrollOffset:this.scrollOffset,options:this.options,passedThreshX:!0,passedThreshY:!0});return Promise.resolve(e).then(yt).then(Et).then(Ct).then(St).then(xt({initial:!0})).then(wt).then(({mirrorOffset:e,initialX:t,initialY:r,...n})=>(this.mirrorOffset=e,this.initialX=t,this.initialY=r,{mirrorOffset:e,initialX:this.lastMovedX=t,initialY:this.lastMovedY=r,...n}))}[mt](r){var e;return r.canceled()?null:(e={mirror:r.mirror,sensorEvent:r.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset,passedThreshX:r.passedThreshX,passedThreshY:r.passedThreshY,lastMovedX:this.lastMovedX,lastMovedY:this.lastMovedY},Promise.resolve(e).then(xt({raf:!0})).then(({lastMovedX:e,lastMovedY:t,...r})=>({lastMovedX:this.lastMovedX=e,lastMovedY:this.lastMovedY=t,...r})).then(e=>{var t=new lt({source:r.source,originalSource:r.originalSource,sourceContainer:r.sourceContainer,sensorEvent:r.sensorEvent,dragEvent:r.dragEvent,mirror:this.mirror,passedThreshX:r.passedThreshX,passedThreshY:r.passedThreshY});return this.draggable.trigger(t),e}))}[vt](e){var t=this.options.appendTo;return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:"function"==typeof t?t(e):e.parentNode}}function yt({source:r,...n}){return A(e=>{var t=r.getBoundingClientRect();e({source:r,sourceRect:t,...n})})}function Et({sensorEvent:n,sourceRect:s,options:i,...o}){return A(e=>{var t=null===i.cursorOffsetY?n.clientY-s.top:i.cursorOffsetY,r=null===i.cursorOffsetX?n.clientX-s.left:i.cursorOffsetX;e({sensorEvent:n,sourceRect:s,mirrorOffset:{top:t,left:r},options:i,...o})})}function Ct({mirror:s,source:i,options:o,...a}){return A(e=>{let t,r;var n;o.constrainDimensions&&(n=getComputedStyle(i),t=n.getPropertyValue("height"),r=n.getPropertyValue("width")),s.style.display=null,s.style.position="fixed",s.style.pointerEvents="none",s.style.top=0,s.style.left=0,s.style.margin=0,o.constrainDimensions&&(s.style.height=t,s.style.width=r),e({mirror:s,source:i,options:o,...a})})}function St({mirror:t,mirrorClasses:r,...n}){return A(e=>{t.classList.add(...r),e({mirror:t,mirrorClasses:r,...n})})}function wt({mirror:t,...r}){return A(e=>{t.removeAttribute("id"),delete t.id,e({mirror:t,...r})})}function xt({withFrame:e=!1,initial:v=!1}={}){return({mirror:s,sensorEvent:i,mirrorOffset:o,initialY:a,initialX:l,scrollOffset:h,options:c,passedThreshX:d,passedThreshY:g,lastMovedX:u,lastMovedY:m,...p})=>A(e=>{var t,r,n={mirror:s,sensorEvent:i,mirrorOffset:o,options:c,...p};o&&(t=d?Math.round((i.clientX-o.left-h.x)/(c.thresholdX||1))*(c.thresholdX||1):Math.round(u),r=g?Math.round((i.clientY-o.top-h.y)/(c.thresholdY||1))*(c.thresholdY||1):Math.round(m),c.xAxis&&c.yAxis||v?s.style.transform=`translate3d(${t}px, ${r}px, 0)`:c.xAxis&&!c.yAxis?s.style.transform=`translate3d(${t}px, ${a}px, 0)`:c.yAxis&&!c.xAxis&&(s.style.transform=`translate3d(${l}px, ${r}px, 0)`),v&&(n.initialX=t,n.initialY=r),n.lastMovedX=t,n.lastMovedY=r),e(n)},{frame:e})}function A(r,{raf:n=!1}={}){return new Promise((e,t)=>{n?requestAnimationFrame(()=>{r(e,t)}):r(e,t)})}let Dt=Symbol("onDragStart"),Lt=Symbol("onDragMove"),Ot=Symbol("onDragStop"),Ft=Symbol("scroll"),Xt={speed:6,sensitivity:50,scrollableElements:[]};class Yt extends r{constructor(e){super(e),this.options={...Xt,...this.getOptions()},this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[Dt]=this[Dt].bind(this),this[Lt]=this[Lt].bind(this),this[Ot]=this[Ot].bind(this),this[Ft]=this[Ft].bind(this)}attach(){this.draggable.on("drag:start",this[Dt]).on("drag:move",this[Lt]).on("drag:stop",this[Ot])}detach(){this.draggable.off("drag:start",this[Dt]).off("drag:move",this[Lt]).off("drag:stop",this[Ot])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(n){if(this.hasDefinedScrollableElements())return l(n,this.options.scrollableElements)||document.documentElement;{if(!n)return Tt();let e=getComputedStyle(n).getPropertyValue("position"),t="absolute"===e,r=l(n,e=>{return(!t||!function(e){e=getComputedStyle(e).getPropertyValue("position");return"static"===e}(e))&&(e=e,e=(e=getComputedStyle(e,null)).getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"),/(auto|scroll)/.test(e))});return"fixed"!==e&&r?r:Tt();return}}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[Dt](e){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.source)})}[Lt](e){var t,r;this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)}),this.scrollableElement&&(t=e.sensorEvent,r={x:0,y:0},"ontouchstart"in window&&(r.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:t.clientX-r.x,clientY:t.clientY-r.y},this.scrollAnimationFrame=requestAnimationFrame(this[Ft]))}[Ot](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[Ft](){var e,t,r,n,s,i,o,a,l;this.scrollableElement&&this.currentMousePosition&&(cancelAnimationFrame(this.scrollAnimationFrame),{speed:e,sensitivity:t}=this.options,l=(r=this.scrollableElement.getBoundingClientRect()).bottom>window.innerHeight,a=r.top<0,n=Tt(),s=this.scrollableElement,i=this.currentMousePosition.clientX,o=this.currentMousePosition.clientY,s===document.body||s===document.documentElement||(a||l)?({innerHeight:a,innerWidth:l}=window,o<t?n.scrollTop-=e:a-o<t&&(n.scrollTop+=e),i<t?n.scrollLeft-=e:l-i<t&&(n.scrollLeft+=e)):({offsetHeight:a,offsetWidth:l}=s,r.top+a-o<t?s.scrollTop+=e:o-r.top<t&&(s.scrollTop-=e),r.left+l-i<t?s.scrollLeft+=e:i-r.left<t&&(s.scrollLeft-=e)),this.scrollAnimationFrame=requestAnimationFrame(this[Ft]))}}function Tt(){return document.scrollingElement||document.documentElement}class Mt{constructor(){this.callbacks={}}on(e,...t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...t),this}off(t,r){if(!this.callbacks[t])return null;var n=this.callbacks[t].slice(0);for(let e=0;e<n.length;e++)r===n[e]&&this.callbacks[t].splice(e,1);return this}trigger(t){if(!this.callbacks[t.type])return null;var r=[...this.callbacks[t.type]],n=[];for(let e=r.length-1;0<=e;e--){var s=r[e];try{s(t)}catch(e){n.push(e)}}return n.length&&console.error(`Draggable caught errors while triggering '${t.type}'`,n),this}}class At extends t{get draggable(){return this.data.draggable}}At.type="draggable";class Nt extends At{}Nt.type="draggable:initialize";class zt extends At{}zt.type="draggable:destroy";let Pt=Symbol("onDragStart"),N=Symbol("onDragMove"),It=Symbol("onDragStop"),kt=Symbol("onDragPressure"),Bt=Symbol("dragStop"),qt={"drag:start":e=>"Picked up "+(e.source.textContent.trim()||e.source.id||"draggable element"),"drag:stop":e=>"Released "+(e.source.textContent.trim()||e.source.id||"draggable element")},$t={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},jt={draggable:".draggable-source",handle:null,delay:{},distance:0,placedTimeout:800,plugins:[],sensors:[],exclude:{plugins:[],sensors:[]}};class z{constructor(e=[document.body],t={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else{if(!(e instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[e]}this.options={...jt,...t,classes:{...$t,...t.classes||{}},announcements:{...qt,...t.announcements||{}},exclude:{plugins:t.exclude&&t.exclude.plugins||[],sensors:t.exclude&&t.exclude.sensors||[]}},this.emitter=new Mt,this.dragging=!1,this.plugins=[],this.sensors=[],this[Pt]=this[Pt].bind(this),this[N]=this[N].bind(this),this[It]=this[It].bind(this),this[kt]=this[kt].bind(this),this[Bt]=this[Bt].bind(this),document.addEventListener("drag:start",this[Pt],!0),document.addEventListener("drag:move",this[N],!0),document.addEventListener("drag:stop",this[It],!0),document.addEventListener("drag:pressure",this[kt],!0);e=Object.values(z.Plugins).filter(e=>!this.options.exclude.plugins.includes(e)),t=Object.values(z.Sensors).filter(e=>!this.options.exclude.sensors.includes(e)),this.addPlugin(...e,...this.options.plugins),this.addSensor(...t,...this.options.sensors),e=new Nt({draggable:this});this.on("mirror:created",({mirror:e})=>this.mirror=e),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(e)}destroy(){document.removeEventListener("drag:start",this[Pt],!0),document.removeEventListener("drag:move",this[N],!0),document.removeEventListener("drag:stop",this[It],!0),document.removeEventListener("drag:pressure",this[kt],!0);var e=new zt({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map(e=>e.constructor)),this.removeSensor(...this.sensors.map(e=>e.constructor))}addPlugin(...e){e=e.map(e=>new e(this));return e.forEach(e=>e.attach()),this.plugins=[...this.plugins,...e],this}removePlugin(...t){return this.plugins.filter(e=>t.includes(e.constructor)).forEach(e=>e.detach()),this.plugins=this.plugins.filter(e=>!t.includes(e.constructor)),this}addSensor(...e){e=e.map(e=>new e(this.containers,this.options));return e.forEach(e=>e.attach()),this.sensors=[...this.sensors,...e],this}removeSensor(...t){return this.sensors.filter(e=>t.includes(e.constructor)).forEach(e=>e.detach()),this.sensors=this.sensors.filter(e=>!t.includes(e.constructor)),this}addContainer(...t){return this.containers=[...this.containers,...t],this.sensors.forEach(e=>e.addContainer(...t)),this}removeContainer(...t){return this.containers=this.containers.filter(e=>!t.includes(e)),this.sensors.forEach(e=>e.removeContainer(...t)),this}on(e,...t){return this.emitter.on(e,...t),this}off(e,t){return this.emitter.off(e,t),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.getClassNamesFor(e)[0]}getClassNamesFor(e){e=this.options.classes[e];return e instanceof Array?e:"string"==typeof e||e instanceof String?[e]:[]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce((e,t)=>[...e,...this.getDraggableElementsForContainer(t)],[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(e=>e!==this.originalSource&&e!==this.mirror)}cancel(){this[Bt]()}[Pt](t){var e=_t(t),{target:r,container:n,originalSource:s}=e;this.containers.includes(n)&&(this.options.handle&&r&&!l(r,this.options.handle)?e.cancel():(this.originalSource=s,this.sourceContainer=n,this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none",r=new fe({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e}),this.trigger(r),this.dragging=!r.canceled(),r.canceled()?(this.source.remove(),this.originalSource.style.display=null):(this.originalSource.classList.add(...this.getClassNamesFor("source:original")),this.source.classList.add(...this.getClassNamesFor("source:dragging")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:dragging")),document.body.classList.add(...this.getClassNamesFor("body:dragging")),Ht(document.body,"none"),requestAnimationFrame(()=>{var e=_t(t).clone({target:this.source});this[N]({...t,detail:e})}))))}[N](e){var t,r,n,s,i,o,a;this.dragging&&(t=(e=_t(e))["container"],r=e.target,i=new ye({source:this.source,originalSource:this.originalSource,sourceContainer:t,sensorEvent:e}),this.trigger(i),i.canceled()&&e.cancel(),r=l(r,this.options.draggable),i=l(e.target,this.containers),n=e.overContainer||i,o=this.currentOverContainer&&n!==this.currentOverContainer,a=this.currentOver&&r!==this.currentOver,s=n&&this.currentOverContainer!==n,i=i&&r&&this.currentOver!==r,a&&(a=new Ce({source:this.source,originalSource:this.originalSource,sourceContainer:t,sensorEvent:e,over:this.currentOver,overContainer:this.currentOverContainer}),this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOver=null,this.trigger(a)),o&&(a=new we({source:this.source,originalSource:this.originalSource,sourceContainer:t,sensorEvent:e,overContainer:this.currentOverContainer}),this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.currentOverContainer=null,this.trigger(a)),s&&(n.classList.add(...this.getClassNamesFor("container:over")),o=new Se({source:this.source,originalSource:this.originalSource,sourceContainer:t,sensorEvent:e,overContainer:n}),this.currentOverContainer=n,this.trigger(o)),i)&&(r.classList.add(...this.getClassNamesFor("draggable:over")),a=new Ee({source:this.source,originalSource:this.originalSource,sourceContainer:t,sensorEvent:e,overContainer:n,over:r}),this.currentOver=r,this.trigger(a))}[Bt](e){var t;this.dragging&&(this.dragging=!1,t=new De({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer}),this.trigger(t),t.canceled()||this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.remove(),this.originalSource.style.display="",this.source.classList.remove(...this.getClassNamesFor("source:dragging")),this.originalSource.classList.remove(...this.getClassNamesFor("source:original")),this.originalSource.classList.add(...this.getClassNamesFor("source:placed")),this.sourceContainer.classList.add(...this.getClassNamesFor("container:placed")),this.sourceContainer.classList.remove(...this.getClassNamesFor("container:dragging")),document.body.classList.remove(...this.getClassNamesFor("body:dragging")),Ht(document.body,""),this.currentOver&&this.currentOver.classList.remove(...this.getClassNamesFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(...this.getClassNamesFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(...this.getClassNamesFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(...this.getClassNamesFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout),t=new Le({source:this.source,originalSource:this.originalSource,sensorEvent:e?e.sensorEvent:null,sourceContainer:this.sourceContainer}),this.trigger(t),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null)}[It](e){this[Bt](e)}[kt](e){var t;this.dragging&&(e=_t(e),t=this.source||l(e.originalEvent.target,this.options.draggable),t=new xe({sensorEvent:e,source:t,pressure:e.pressure}),this.trigger(t))}}function _t(e){return e.detail}function Ht(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}z.Plugins={Announcement:Je,Focusable:rt,Mirror:ft,Scrollable:Yt},z.Sensors={MouseSensor:q,TouchSensor:H};class Rt extends t{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}Rt.type="droppable";class Ut extends Rt{get dropzone(){return this.data.dropzone}}Ut.type="droppable:start",Ut.cancelable=!0;class Wt extends Rt{get dropzone(){return this.data.dropzone}}Wt.type="droppable:dropped",Wt.cancelable=!0;class Vt extends Rt{get dropzone(){return this.data.dropzone}}Vt.type="droppable:returned",Vt.cancelable=!0;class Gt extends Rt{get dropzone(){return this.data.dropzone}}Gt.type="droppable:stop",Gt.cancelable=!0;let Kt=Symbol("onDragStart"),Zt=Symbol("onDragMove"),Jt=Symbol("onDragStop"),Qt=Symbol("dropInDropZone"),er=Symbol("returnToOriginalDropzone"),tr=Symbol("closestDropzone"),rr=Symbol("getDropzones");let nr={"droppable:dropped":function({dragEvent:e,dropzone:t}){return`Dropped ${e.source.textContent.trim()||e.source.id||"draggable element"} into `+(t.textContent.trim()||t.id||"droppable element")},"droppable:returned":function({dragEvent:e,dropzone:t}){return`Returned ${e.source.textContent.trim()||e.source.id||"draggable element"} from `+(t.textContent.trim()||t.id||"droppable element")}},sr={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"},ir={dropzone:".draggable-droppable"};class or extends z{constructor(e=[],t={}){super(e,{...ir,...t,classes:{...sr,...t.classes||{}},announcements:{...nr,...t.announcements||{}}}),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null,this[Kt]=this[Kt].bind(this),this[Zt]=this[Zt].bind(this),this[Jt]=this[Jt].bind(this),this.on("drag:start",this[Kt]).on("drag:move",this[Zt]).on("drag:stop",this[Jt])}destroy(){super.destroy(),this.off("drag:start",this[Kt]).off("drag:move",this[Zt]).off("drag:stop",this[Jt])}[Kt](e){if(!e.canceled()){this.dropzones=[...this[rr]()];var t=l(e.sensorEvent.target,this.options.dropzone);if(t){var r=new Ut({dragEvent:e,dropzone:t});if(this.trigger(r),r.canceled())e.cancel();else{this.initialDropzone=t;for(var n of this.dropzones)n.classList.contains(this.getClassNameFor("droppable:occupied"))||n.classList.add(...this.getClassNamesFor("droppable:active"))}}else e.cancel()}}[Zt](e){var t;e.canceled()||((t=this[tr](e.sensorEvent.target))&&!t.classList.contains(this.getClassNameFor("droppable:occupied"))&&this[Qt](e,t)?this.lastDropzone=t:t&&t!==this.initialDropzone||!this.lastDropzone||(this[er](e),this.lastDropzone=null))}[Jt](e){var t,e=new Gt({dragEvent:e,dropzone:this.lastDropzone||this.initialDropzone}),e=(this.trigger(e),this.getClassNamesFor("droppable:occupied"));for(t of this.dropzones)t.classList.remove(...this.getClassNamesFor("droppable:active"));this.lastDropzone&&this.lastDropzone!==this.initialDropzone&&this.initialDropzone.classList.remove(...e),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null}[Qt](e,t){var r=new Wt({dragEvent:e,dropzone:t});return this.trigger(r),!r.canceled()&&(r=this.getClassNamesFor("droppable:occupied"),this.lastDropzone&&this.lastDropzone.classList.remove(...r),t.appendChild(e.source),t.classList.add(...r),!0)}[er](e){var t=new Vt({dragEvent:e,dropzone:this.lastDropzone});this.trigger(t),t.canceled()||(this.initialDropzone.appendChild(e.source),this.lastDropzone.classList.remove(...this.getClassNamesFor("droppable:occupied")))}[tr](e){return this.dropzones?l(e,this.dropzones):null}[rr](){var e=this.options.dropzone;return"string"==typeof e?document.querySelectorAll(e):e instanceof NodeList||e instanceof Array?e:"function"==typeof e?e():[]}}class ar extends t{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}ar.type="swappable";class lr extends ar{}lr.type="swappable:start",lr.cancelable=!0;class hr extends ar{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}hr.type="swappable:swap",hr.cancelable=!0;class cr extends ar{get swappedElement(){return this.data.swappedElement}}cr.type="swappable:swapped";class dr extends ar{}dr.type="swappable:stop";let gr=Symbol("onDragStart"),ur=Symbol("onDragOver"),mr=Symbol("onDragStop");let pr={"swappabled:swapped":function({dragEvent:e,swappedElement:t}){return`Swapped ${e.source.textContent.trim()||e.source.id||"swappable element"} with `+(t.textContent.trim()||t.id||"swappable element")}};class vr extends z{constructor(e=[],t={}){super(e,{...t,announcements:{...pr,...t.announcements||{}}}),this.lastOver=null,this[gr]=this[gr].bind(this),this[ur]=this[ur].bind(this),this[mr]=this[mr].bind(this),this.on("drag:start",this[gr]).on("drag:over",this[ur]).on("drag:stop",this[mr])}destroy(){super.destroy(),this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[gr](e){var t=new lr({dragEvent:e});this.trigger(t),t.canceled()&&e.cancel()}[ur](e){var t;e.over===e.originalSource||e.over===e.source||e.canceled()||(t=new hr({dragEvent:e,over:e.over,overContainer:e.overContainer}),this.trigger(t),t.canceled())||(this.lastOver&&this.lastOver!==e.over&&br(this.lastOver,e.source),this.lastOver===e.over?this.lastOver=null:this.lastOver=e.over,br(e.source,e.over),t=new cr({dragEvent:e,swappedElement:e.over}),this.trigger(t))}[mr](e){e=new dr({dragEvent:e});this.trigger(e),this.lastOver=null}}function br(t,r){let n=r.parentNode,s=t.parentNode;var e,i;e=e=>{s.insertBefore(e,t),n.insertBefore(t,r),s.insertBefore(r,e)},i=document.createElement("div"),e(i),i.remove()}class fr extends t{constructor(e){super(e),this.data=e}get dragEvent(){return this.data.dragEvent}}fr.type="sortable";class yr extends fr{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}yr.type="sortable:start",yr.cancelable=!0;class Er extends fr{get currentIndex(){return this.data.currentIndex}get over(){return this.data.over}get overContainer(){return this.data.dragEvent.overContainer}}Er.type="sortable:sort",Er.cancelable=!0;class Cr extends fr{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Cr.type="sortable:sorted";class Sr extends fr{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}Sr.type="sortable:stop";let wr=Symbol("onDragStart"),xr=Symbol("onDragOverContainer"),Dr=Symbol("onDragOver"),Lr=Symbol("onDragStop");let Or={"sortable:sorted":function({dragEvent:e}){var t,r=e.source.textContent.trim()||e.source.id||"sortable element";return e.over?(t=e.over.textContent.trim()||e.over.id||"sortable element",e.source.compareDocumentPosition(e.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${r} after `+t:`Placed ${r} before `+t):`Placed ${r} into a different container`}};class Fr extends z{constructor(e=[],t={}){super(e,{...t,announcements:{...Or,...t.announcements||{}}}),this.startIndex=null,this.startContainer=null,this[wr]=this[wr].bind(this),this[xr]=this[xr].bind(this),this[Dr]=this[Dr].bind(this),this[Lr]=this[Lr].bind(this),this.on("drag:start",this[wr]).on("drag:over:container",this[xr]).on("drag:over",this[Dr]).on("drag:stop",this[Lr])}destroy(){super.destroy(),this.off("drag:start",this[wr]).off("drag:over:container",this[xr]).off("drag:over",this[Dr]).off("drag:stop",this[Lr])}index(e){return this.getSortableElementsForContainer(e.parentNode).indexOf(e)}getSortableElementsForContainer(t){return[...t.querySelectorAll(this.options.draggable)].filter(e=>e!==this.originalSource&&e!==this.mirror&&e.parentNode===t)}[wr](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);var t=new yr({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}[xr](e){var t,r,n,s,i;e.canceled()||({source:r,over:n,overContainer:s}=e,t=this.index(r),i=new Er({dragEvent:e,currentIndex:t,source:r,over:n}),this.trigger(i),i.canceled())||(i=Yr({source:r,over:n,overContainer:s,children:this.getSortableElementsForContainer(s)}))&&({oldContainer:r,newContainer:n}=i,s=this.index(e.source),i=new Cr({dragEvent:e,oldIndex:t,newIndex:s,oldContainer:r,newContainer:n}),this.trigger(i))}[Dr](e){var t,r,n,s,i;e.over===e.originalSource||e.over===e.source||({source:i,over:r,overContainer:n}=e,t=this.index(i),s=new Er({dragEvent:e,currentIndex:t,source:i,over:r}),this.trigger(s),s.canceled())||(s=Yr({source:i,over:r,overContainer:n,children:this.getDraggableElementsForContainer(n)}))&&({oldContainer:r,newContainer:n}=s,s=this.index(i),i=new Cr({dragEvent:e,oldIndex:t,newIndex:s,oldContainer:r,newContainer:n}),this.trigger(i))}[Lr](e){e=new Sr({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(e),this.startIndex=null,this.startContainer=null}}function Xr(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function Yr({source:e,over:t,overContainer:r,children:n}){var s,i,n=!n.length,o=e.parentNode!==r,a=t&&e.parentNode===t.parentNode;return n?(n=r,i=e.parentNode,n.appendChild(e),{oldContainer:i,newContainer:n}):a?(i=t,a=Xr(n=e),s=Xr(i),a<s?n.parentNode.insertBefore(n,i.nextElementSibling):n.parentNode.insertBefore(n,i),{oldContainer:n.parentNode,newContainer:n.parentNode}):o?(a=t,s=r,o=(n=e).parentNode,a?a.parentNode.insertBefore(n,a):s.appendChild(n),{oldContainer:o,newContainer:n.parentNode}):null}e.BaseEvent=t,e.BasePlugin=r,e.Draggable=z,e.Droppable=or,e.Plugins=Ue,e.Sensors=Q,e.Sortable=Fr,e.Swappable=vr});