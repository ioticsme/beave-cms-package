extends ../../layouts/master.pug

block csslib
	link(href='/cms-static/admin/assets/plugins/custom/fullcalendar/fullcalendar.bundle.css' rel='stylesheet' type='text/css')
	//- link(href='/cms-static/admin/assets/plugins/custom/datatables/datatables.bundle.css' rel='stylesheet' type='text/css')
	link(href='/cms-static/admin/assets/plugins/global/plugins.bundle.css' rel='stylesheet' type='text/css')
	link(href='/cms-static/admin/assets/css/style.bundle.css' rel='stylesheet' type='text/css')

block jslib
	// begin::Vendors Javascript(used by this page)
	//- script(src='/cms-static/admin/assets/plugins/custom/datatables/datatables.bundle.js')
	// end::Vendors Javascript
	// begin::Custom Javascript(used by this page)
	//- script(src='/cms-static/admin/assets/js/widgets.bundle.js')
	//- script(src='/cms-static/admin/assets/js/custom/widgets.js')
	script(src='/cms-static/admin/assets/js/custom/utilities/modals/new-card.js')
	//- script(src='/cms-static/admin/assets/js/custom/utilities/modals/users-search.js')
	//- script(src='/cms-static/admin/assets/plugins/custom/formrepeater/formrepeater.bundle.js')
	// end::Custom Javascript

	// CKEditor Build Bundles
	script(src='/cms-static/admin/assets/plugins/custom/ckeditor/ckeditor-classic.bundle.js')

	script(src='/cms-static/admin/assets/js/scripts.bundle.js')

	// Form Submission Script
	script(src='/cms-static/common/js/form-data-json.min.js')
	script(src='/cms-static/common/js/es-form.js')

block customScript
	script.
		document.querySelectorAll('.content_wysiwyg').forEach(function(e) {
			//- console.log(e.getAttribute('id'))
			ClassicEditor
			.create(document.querySelector(`#${e.getAttribute('id')}`))
			.then(editor => {
			})
			.catch(error => {
			console.error(error);
			});
		})

		document.querySelectorAll('.kt_daterangepicker input').forEach((picker)=>{
			$(`#${picker.id}`).flatpickr({
				altInput: !0,
				altFormat: 'd F, Y',
				dateFormat: 'Y-m-dTH:i:00.000\\Z',
			})
		})

		var childIndex = 0
		function cloneChild(event) {
			childIndex++
			let targetElement = event.target
			let parentId = targetElement.getAttribute('target-id')
			let parentLang = targetElement.getAttribute('target-lang')
			let langPrefix = targetElement.getAttribute('target-lang-prefix')
			let p = document.querySelector(`.form-repeater-group-${parentLang}-${langPrefix}`)
			let p_prime = p.cloneNode(true)
			let newElement = document.getElementById(`${parentId}`).appendChild(p_prime)
			newElement.setAttribute("id", `form_repeater_child_${parentLang}-${childIndex*10000}`) //setting ID for newly created card
			document
				.querySelectorAll(`#form_repeater_child_${parentLang}-${childIndex*10000} .form-control`)
				.forEach(function (element) {
					element.value = null
				})
		}

		function deleteChild(event){
			let targetElement = event.target
			let parentDiv = targetElement.parentElement.parentElement.parentElement
			let childDiv = targetElement.parentElement.parentElement
			let parentId = parentDiv.getAttribute('id')
			let childId = childDiv.getAttribute('id')
			console.log(Number(childId.split('-')?.[1]))
			if(Number(childId.split('-')?.[1])>1000){
				const parentElement = document.getElementById(parentId)
				const childElement = document.getElementById(childId)
				parentElement.removeChild(childElement)
			}
		}

block content
	<div class="d-flex flex-column flex-column-fluid">
		<div class="app-toolbar py-3 py-lg-6" id="kt_app_toolbar">
			<div class="app-container container-xxl d-flex flex-stack" id="kt_app_toolbar_container">
				<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
					<h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">Add #{reqContentType.title}</h1>
					<ul class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
						<li class="breadcrumb-item text-muted"><a class="text-muted text-hover-primary" href="/admin/cms/#{reqContentType.slug}">#{reqContentType.title}</a></li>
						<li class="breadcrumb-item"><span class="bullet bg-gray-400 w-5px h-2px"></span></li>
						<li class="breadcrumb-item text-muted">Add New</li>
					</ul>
				</div>
			</div>
		</div>
		//- #kt_app_toolbar.app-toolbar.py-3.py-lg-6
		//- 	#kt_app_toolbar_container.app-container.container-xxl.d-flex.flex-stack
		//- 		.page-title.d-flex.flex-column.justify-content-center.flex-wrap.me-3
		//- 			h1.page-heading.d-flex.text-dark.fw-bold.fs-3.flex-column.justify-content-center.my-0 Add #{reqContentType.title}
		//- 			ul.breadcrumb.breadcrumb-separatorless.fw-semibold.fs-7.my-0.pt-1
		//- 				li.breadcrumb-item.text-muted
		//- 					a.text-muted.text-hover-primary(href=`/admin/cms/${reqContentType.slug}`) #{reqContentType.title}
		//- 				li.breadcrumb-item
		//- 					span.bullet.bg-gray-400.w-5px.h-2px
		//- 				li.breadcrumb-item.text-muted Add New
				//- .d-flex.align-items-center.gap-2.gap-lg-3
				//- 	a.btn.btn-sm.fw-bold.btn-primary(href='#' data-bs-toggle='modal' data-bs-target='#kt_modal_create_app') Create
		//- #kt_app_content.app-content.flex-column-fluid
		<div id="kt_app_content" class="app-content flex-column-fluid">
			<div class="app-container container-xxl" id="kt_app_content_container">
				<form class="form es-form d-flex flex-column flex-lg-row" id="kt_subscriptions_create_new" action="/admin/cms/#{reqContentType.slug}/save" data-kt-redirect-url="/admin/cms/#{reqContentType.slug}" enctype="multipart/form-data" method="post">
					//- .d-flex.flex-column.flex-row-fluid.gap-7.gap-lg-10
					<div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
						<div class="card card-flush py-4">
							<div class="card-header">
								<div class="card-title">
									<h2 class="fw-bold">#{reqContentType.title}</h2>
								</div>
								<div class="card-toolbar">
									<button class="btn btn-sm btn-success form-submit-btn" type="submit">
										<span class="label">Save</span>
										<span class="preloader d-none">Saving...</span>
									</button>
								</div>
							</div>
							<div class="card-body pt-0">
								<ul class="nav nav-tabs nav-line-tabs mb-5 fs-6">
									each brandLanguage, i in authUser.brand.languages
										<li class="nav-item">
											<a class="nav-link #{(i== 0 ? 'active' : '')}" data-bs-toggle="tab" href="#kt_tab_pane_#{brandLanguage.prefix}">#{brandLanguage.name}</a>
										</li>
										//- li.nav-item
										//- 	a.nav-link(class= (i== 0 ? 'active' : '') data-bs-toggle='tab' href=`#kt_tab_pane_${brandLanguage.prefix}`) #{brandLanguage.name}
								</ul>
								<div class="tab-content tab-content-fields" id="myTabContent">
									each brandLanguage, i in authUser.brand.languages
										<div class="tab-pane fade #{(i== 0 ? 'active show' : '')}" role="tabpanel" id="kt_tab_pane_#{brandLanguage.prefix}">
											//- BEGIN::Fields with localisation
											each cfg, cfg_i in reqContentType.field_groups
												<h4 class="badge badge-warning mb-2">#{cfg.row_label}</h4>
												if cfg.repeater_group == true && cfg.localisation
													//- h4 #{cfg.row_label}
													//- h1 Test
													//- if cfg.localisation
													<div class="group_repeater" id="kt_docs_repeater_#{brandLanguage.prefix}_#{cfg._id}_#{cfg_i}">
														<div class="row form-repeater-group-#{cfg._id}-#{brandLanguage.prefix}" id="form_repeater_child_#{brandLanguage.prefix}_#{cfg._id}-#{cfg_i}">
															each cf,cf_idx in cfg.fields
																<div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
																	label.d-flex.align-items-center.fs-6.fw-semibold.mb-2
																		span.required #{cf.field_label} (#{brandLanguage.prefix})
																	if cf.field_type === 'text' || cf.field_type === 'email' || cf.field_type === 'number'
																		<input class="form-control form-control-solid" type="#{cf.field_type}" placeholder="Enter #{cf.field_label}" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]">
																	else if cf.field_type === 'richtext'
																		<textarea class="content_wysiwyg" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]" id="wysiwyg-cf-#{brandLanguage.prefix}-#{cfg.row_name}-#{cf.field_name}"></textarea>
																	else if cf.field_type === 'textarea'
																		<textarea class="form-control form-control-solid" rows="6" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]" placeholder="" spellcheck="false"></textarea>
																	else if cf.field_type === 'date'
																		<div class="kt_daterangepicker">
																			<input class="form-control mb-2" id="kt_daterangepicker_#{brandLanguage.prefix}-#{cf_i}" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]" placeholder="#{cf.placeholder}" value="">
																		</div>
																	else if cf.field_type === 'radio'
																		.row.row-cols-1.row-cols-md-3.row-cols-lg-1.row-cols-xl-3.g-9(data-kt-buttons='true' data-kt-buttons-target="[data-kt-button='true']")
																			each option,i in cf.options 
																				<div class="col d-flex text-start p-6">
																					<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																						<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]" id="#{option.value}-#{i}" value="#{option.value}">
																					</span>
																					<span class="ms-5">
																						<label class="form-label" for="#{option.value}-#{i}">#{option.label}</label>
																					</span>
																				</div>
																			else 
																				<div class="col d-flex text-start p-6">
																					<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																						<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}][]]" id="percentage" value="true">
																					</span>
																					<span class="ms-5">
																						<label class="form-label" for="percentage"> </label>
																					</span>
																				</div>
																			
																	else if cf.field_type === 'dropdown'
																		<select class="form-select" data-control="select2" name="#{cfg.e}[#{cf.field_name}[#{brandLanguage.prefix}][]]" data-placeholder="Selectan ptio">
																			<option></option>
																			each dropdown, dd_i in cf.options
																				<option value="#{dropdown.value}">#{dropdown.label}</option>
																		</select>
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																</div>
															<div class="text-center">
																<a class="btn btn-sm btn-light-danger mt-3 mt-md-8" onClick="deleteChild(event)" child-id="form-repeater-child-#{brandLanguage.prefix}_#{cfg._id}-#{cfg_i}" target-id="kt_docs_repeater_#{brandLanguage.prefix}_#{cfg._id}_#{cfg_i}"><i class="la la-trash-o"></i>Delete</a>
															</div>
														</div>
													</div>
													
													<div class="form-group mt-5 text-center">
														<a class="btn btn-light-primary mb-10" onClick="cloneChild(event)" target-lang="#{cfg._id}" target-lang-prefix="#{brandLanguage.prefix}" target-id="kt_docs_repeater_#{brandLanguage.prefix}_#{cfg._id}_#{cfg_i}" data-repeater-create=""><i class="la la-plus"></i>Add</a>
													</div>
															
												else
													if cfg.localisation
														//- h1 Test
														each cf in cfg.fields
															<div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
																// begin::Label
																<label class="d-flex align-items-center fs-6 fw-semibold mb-2">
																	<span class="required">#{cf.field_label} (#{brandLanguage.prefix})</span>
																	<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Specify a target name for future usage and reference" data-kt-initialized="1"></i>
																</label>
																// end::Label
																if cf.field_type === 'text' || cf.field_type === 'email' || cf.field_type === 'number'
																	<input class="form-control form-control-solid" type="#{cf.field_type}" placeholder="Enter #{cf.field_label}" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]">
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																else if cf.field_type === 'richtext'
																	<textarea class="content_wysiwyg" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" id="wysiwyg-cf-#{brandLanguage.prefix}-#{cfg.row_name}-#{cf.field_name}"></textarea>
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																else if cf.field_type === 'textarea'
																	<textarea class="form-control form-control-solid" rows="6" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" placeholder="" spellcheck="false"></textarea>
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																else if cf.field_type === 'date'
																	.kt_daterangepicker
																		<input class="form-control mb-2" id="kt_daterangepicker_#{brandLanguage.prefix}-#{cf_i}" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" placeholder="#{cf.placeholder}" value="">
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																else if cf.field_type === 'radio'
																	<div class="row row-cols-1 row-cols-md-3 row-cols-lg-1 row-cols-xl-3 g-9" data-kt-buttons="true" data-kt-buttons-target="[data-kt-button='true']">
																		each option,i in cf.options 
																			<div class="col d-flex text-start p-6"><span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true"></span>
																				<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" id="#{option.value}-#{i}" value="#{option.value}">
																				<span class="ms-5"></span>
																				<label class="form-label" for="#{option.value}-#{i}">#{option.label}</label>
																			</div>
																		else 
																			<div class="col d-flex text-start p-6">
																				<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																					<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" id="percentage" value="true"></span>
																				<span class="ms-5">
																					<label class="form-label" for="percentage"> </label>
																				</span>
																			</div>
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
																	</div>
																else if cf.field_type === 'dropdown'
																	<select class="form-select" data-control="select2" name="#{cfg.row_name}[#{cf.field_name}[#{brandLanguage.prefix}]]" data-placeholder="Select an option">
																		<option></option>
																		each dropdown, dd_i in cf.options
																			<option value="#{dropdown.value}">#{dropdown.label}</option>
																	</select>
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}_#{brandLanguage.prefix}"></div>
															</div>
										</div>
								</div>
								if has_common_field_groups
									<div class="ribbon ribbon-start ribbon-clip">
										<div class="ribbon-label">General Fields (No localisation)<span class="ribbon-inner bg-success"></span></div>
									</div>
								//- BEGIN::Custom Fields without localisation
								<div class="row mt-5 pt-5">
									<div class="col-12 mt-5">
										each cfg, cfg_i in reqContentType.field_groups
											if cfg.localisation == false 
												if cfg.repeater_group == true
													h4 #{cfg.row_label}
													<div class="group_repeater" id="kt_docs_repeater_#{cfg._id}_#{cfg_i}">
														<div class="form-group row form-repeater-group-#{cfg._id}-en" id="form_repeater_child_#{cfg._id}-#{cfg_i}">
															each cf in cfg.fields
																<div class="d-flex flex-column mb-8 fv-row fv-plugins-icon-container">
																	<label class="d-flex align-items-center fs-6 fw-semibold mb-2">
																		<span class="required">#{cf.field_label}</span>
																		<i class="fas fa-exclamation-circle ms-2 fs-7" data-bs-toggle="tooltip" aria-label="Specify a target name for future usage and reference" data-kt-initialized="1"></i>
																	</label>
																	if cf.field_type === 'text' || cf.field_type === 'email' || cf.field_type === 'number'
																		<input class="form-control form-control-solid" type="#{cf.field_type}" placeholder="Enter #{cf.field_label}" name="#{cfg.row_name}[#{cf.field_name}[]]">
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																	else if cf.field_type === 'richtext'
																		<textarea class="content_wysiwyg" name="#{cfg.row_name}[#{cf.field_name}]" id="wysiwyg-cf-#{cf_i}"></textarea>
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																	else if cf.field_type === 'textarea'
																		<textarea class="form-control form-control-solid" rows="6" name="#{cfg.row_name}[#{cf.field_name}[]]" placeholder="" spellcheck="false"></textarea>
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																	else if cf.field_type === 'date'
																		<div class="kt_daterangepicker">
																			<input class="form-control mb-2" id="kt_daterangepicker_#{cf_i}" name="#{cfg.row_name}[#{cf.field_name}[]]" placeholder="#{cf.placeholder}" value="">
																			<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																		</div>
																	else if cf.field_type === 'radio'
																		<div class="row row-cols-1 row-cols-md-3 row-cols-lg-1 row-cols-xl-3 g-9" data-kt-buttons="true" data-kt-buttons-target="[data-kt-button='true']">
																			each option,i in cf.options 
																				<div class="col d-flex text-start p-6">
																					<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																						<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[]]" id="#{option.value}-#{i}" value="#{option.value}">
																					</span>
																					<span class="ms-5">
																						<label class="form-label" for="#{option.value}-#{i}">#{option.label}</label>
																					</span>
																				</div>
																			else 
																				<div class="col d-flex text-start p-6">
																					<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																						<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}[]]" id="percentage" value="true">
																					</span>
																					<span class="ms-5">
																						<label class="form-label" for="percentage"> </label>
																					</span>
																				</div>
																			<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																		<div>
																	else if cf.field_type === 'dropdown'
																		<select class="form-select" data-control="select" name="#{cfg.row_name}[#{cf.field_name}[]]" data-placeholder="Select an option">
																			<option value="">Select an option</option>
																			each dropdown, dd_i in cf.options
																				<option value="#{dropdown.value}">#{dropdown.label}</option>
																		</select>
																		<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																</div>
															<div class="text-center">
																<a class="btn btn-sm btn-light-danger mt-3 mt-md-8" onClick="deleteChild(event)" child-id="form-repeater-child-#{cfg._id}-#{cfg_i}" target-id="kt_docs_repeater_#{cfg._id}_#{cfg_i}"><i class="la la-trash-o"></i>Delete</a>
															</div>
														</div>
													</div>
													<div class="form-group mt-5 text-center">
														<a class="btn btn-light-primary" onClick="cloneChild(event)" target-lang="#{cfg._id}" target-lang-prefix="en" target-id="kt_docs_repeater_#{cfg._id}_#{cfg_i}"><i class="la la-plus"></i>Add</a>
													</div>
												else 
													each cf in cfg.fields
														.d-flex.flex-column.mb-8.fv-row.fv-plugins-icon-container
															label.d-flex.align-items-center.fs-6.fw-semibold.mb-2
																span.required #{cf.field_label}
																i.fas.fa-exclamation-circle.ms-2.fs-7(data-bs-toggle='tooltip' aria-label='Specify a target name for future usage and reference' data-kt-initialized='1')
															if cf.field_type === 'text' || cf.field_type === 'email' || cf.field_type === 'number'
																input.form-control.form-control-solid(type=`${cf.field_type}` placeholder=`Enter  ${cf.field_label}` name=`${cfg.row_name}[${cf.field_name}]`)
																<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
															else if cf.field_type === 'richtext'
																textarea.content_wysiwyg(name=`${cfg.row_name}[${cf.field_name}]` id=`wysiwyg-cf-${cf_i}`)
																<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
															else if cf.field_type === 'textarea'
																textarea.form-control.form-control-solid(rows='6' name=`${cfg.row_name}[${cf.field_name}]` placeholder='' spellcheck='false')
																<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
															else if cf.field_type === 'date'
																.kt_daterangepicker
																	input.form-control.mb-2(id=`kt_daterangepicker_${cf_i}` name=`${cfg.row_name}[${cf.field_name}]` placeholder=`${cf.placeholder}` value='')
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
															else if cf.field_type === 'radio'
																.row.row-cols-1.row-cols-md-3.row-cols-lg-1.row-cols-xl-3.g-9(data-kt-buttons='true' data-kt-buttons-target="[data-kt-button='true']")
																	each option,i in cf.options 
																		.col.d-flex.text-start.p-6
																			span.form-check.form-check-custom.form-check-solid.form-check-sm.align-items-start(data-kt-button='true')
																				input.form-check-input(type='radio' name=`${cfg.row_name}[${cf.field_name}]` id=`${option.value}-${i}` value=`${option.value}` checked=i==0)
																			span.ms-5
																				label.form-label(for=`${option.value}-${i}`) #{option.label}
																	else 
																		<div class="col d-flex text-start p-6">
																			<span class="form-check form-check-custom form-check-solid form-check-sm align-items-start" data-kt-button="true">
																				<input class="form-check-input" type="radio" name="#{cfg.row_name}[#{cf.field_name}]" id="percentage" value="true"></span><span class="ms-5">
																				<label class="form-label" for="percentage"> </label>
																			</span>
																		</div>
																		//- .col.d-flex.text-start.p-6
																		//- 	span.form-check.form-check-custom.form-check-solid.form-check-sm.align-items-start(data-kt-button='true')
																		//- 		input.form-check-input(type='radio' name=`${cfg.row_name}[${cf.field_name}]` id="percentage" value=`true` )
																		//- 	span.ms-5
																		//- 		label.form-label(for="percentage") 
																	<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
															else if cf.field_type === 'dropdown'
																<select class="form-select" data-control="select2" name="#{cfg.row_name}[#{cf.field_name}]" data-placeholder="Select an option">
																	<option></option>
																	each dropdown, dd_i in cf.options
																		<option value="#{dropdown.value}">#{dropdown.label}</option>
																</select>
																//- select.form-select(data-control='select2' name=`${cfg.row_name}[${cf.field_name}]` data-placeholder='Select an option')
																//- 	option
																//- 	each dropdown, dd_i in cf.options
																//- 		option(value=`${dropdown.value}`) #{dropdown.label}
																<div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
																//- <div class="fv-plugins-message-container invalid-feedback" id="field-error-#{cf.field_name}"></div>
									</div>
								</div>
								//- END::Custom Fields without localisation
							</div>
						</div>
					</div>
					<div class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px mb-7 ms-lg-10">
						include ./partials/_publish

						if reqContentType.allowed_type && reqContentType.allowed_type.length
							include ./partials/_attach-content-type

						include ./partials/_add-to-home
						if reqContentType.single_type == false
							include ./partials/_position
					</div>
					include ./partials/_modal-attach-content
				</form>
			</div>
		</div>
	</div>