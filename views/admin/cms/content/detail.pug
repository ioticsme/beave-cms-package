extends ../../layouts/master.pug

block csslib
    link(href='/cms-static/admin/assets/plugins/custom/datatables/datatables.bundle.css' rel='stylesheet' type='text/css')

block jslib
    // begin::Vendors Javascript(used by this page)
    script(src='/cms-static/admin/assets/plugins/custom/datatables/datatables.bundle.js')
    // end::Vendors Javascript
    // begin::Custom Javascript(used by this page)
    script(src='/cms-static/admin/assets/js/custom/apps/subscriptions/add/advanced.js')
    //- script(src='/cms-static/admin/assets/js/custom/apps/subscriptions/add/customer-select.js')
    //- script(src='/cms-static/admin/assets/js/custom/apps/subscriptions/add/products.js')
    //- script(src='/cms-static/admin/assets/js/widgets.bundle.js')
    //- script(src='/cms-static/admin/assets/js/custom/widgets.js')
    //- 
    //- 
    script(src='/cms-static/admin/assets/js/custom/utilities/modals/create-app.js')
    script(src='/cms-static/admin/assets/js/custom/utilities/modals/new-card.js')
    //- script(src='/cms-static/admin/assets/js/custom/utilities/modals/users-search.js')
    // end::Custom Javascript

block content
    .d-flex.flex-column.flex-column-fluid
        #kt_app_toolbar.app-toolbar.py-3.py-lg-6
            #kt_app_toolbar_container.app-container.container-xxl.d-flex.flex-stack
                .page-title.d-flex.flex-column.justify-content-center.flex-wrap.me-3
                    h1.page-heading.d-flex.text-dark.fw-bold.fs-3.flex-column.justify-content-center.my-0 #{reqContentType.title} Detail
                    ul.breadcrumb.breadcrumb-separatorless.fw-semibold.fs-7.my-0.pt-1
                        li.breadcrumb-item.text-muted
                            a.text-muted.text-hover-primary(href=`../${reqContentType.slug}`) #{reqContentType.title}
                        li.breadcrumb-item
                            span.bullet.bg-gray-400.w-5px.h-2px
                        li.breadcrumb-item.text-muted #{contentDetail.content[0].value}
                .d-flex.align-items-center.gap-2.gap-lg-3
                    a.btn.btn-sm.fw-bold.btn-success(href=`/admin/cms/${reqContentType.slug}/add`) Add New #{reqContentType.title}
                    a.btn.btn-sm.fw-bold.btn-primary(href=`/admin/cms/${reqContentType.slug}/edit/${contentDetail._id}`) Edit #{reqContentType.title}
        #kt_app_content.app-content.flex-column-fluid
            #kt_app_content_container.app-container.container-xxl
                .d-flex.flex-column.flex-lg-row
                    .flex-lg-row-fluid.me-lg-15.order-2.order-lg-1.mb-10.mb-lg-0
                        .card.card-flush.pt-3.mb-5.mb-lg-10                                
                            .card-body.pt-0
                                ul.nav.nav-tabs.nav-line-tabs.mb-5.fs-6
                                    each brandLanguage, i in authUser.selected_brand.languages
                                        li.nav-item
                                            a.nav-link(class= (i== 0 ? 'active' : '') data-bs-toggle='tab' href=`#kt_tab_pane_${brandLanguage.prefix}`) #{brandLanguage.name}
                                #myTabContent.tab-content.tab-content-fields
                                    each brandLanguage, i in authUser.selected_brand.languages
                                        .tab-pane.fade(class= (i== 0 ? 'active show' : '') role='tabpanel' id=`kt_tab_pane_${brandLanguage.prefix}`)
                                            .card-title
                                                //- if contentDetail.content[brandLanguage.prefix]
                                                //-     h2.fw-bold #{contentDetail.content[0].value}
                                                //- else 
                                                //-     h2.fw-bold Title
                                                //- BEGIN::Custom group Fields with Multi language
                                                each cfg, cfg_i in reqContentType.field_groups
                                                    if cfg.localisation == true
                                                        h1.mt-5.mb-2 #{cfg.row_label}
                                                        each cf in findalContentFieldsGroup[brandLanguage.prefix][cfg.row_name]
                                                            span.badge.badge-info.mt-5 #{cf.field.toUpperCase()}
                                                            br
                                                            .card !{cf.value}
                                                //- END::Custom group Fields
                            

                    //- .card.card-flush.pt-3.mb-5.mb-lg-10
                    //-     .card-header
                    //-         .card-title
                    //-             h2.fw-bold Versions
                    //-     .card-body.pt-0
                    //-         .table-responsive
                    //-             table#kt_subscription_products_table.table.align-middle.table-row-dashed.fs-6.fw-semibold.gy-4
                    //-                 thead
                    //-                     tr.text-start.text-muted.fw-bold.fs-7.text-uppercase.gs-0
                    //-                         th.min-w-300px Author
                    //-                         th.min-w-300px Version
                    //-                         th.min-w-100px Date
                    //-                 tbody.text-gray-600
                    //-                     tr
                    //-                         td Admin
                    //-                         td 1
                    //-                         td 25/07/2023 11:00 AM
                    //- .flex-column.flex-lg-row-auto.w-100.w-lg-250px.w-xl-300px.mb-10.order-1.order-lg-2
                    //-     .card.card-flush.pt-3.mb-0(data-kt-sticky='true' data-kt-sticky-name='subscription-summary' data-kt-sticky-offset="{default: false, lg: '200px'}" data-kt-sticky-width="{lg: '250px', xl: '300px'}" data-kt-sticky-left='auto' data-kt-sticky-top='150px' data-kt-sticky-animation='false' data-kt-sticky-zindex='95')
                    //-         .card-header
                    //-             .card-title
                    //-                 h2 Summary
                    //-         .card-body.pt-0.fs-6
                    //-             .mb-7
                    //-                 h5.mb-3 Author details
                    //-                 if(contentDetail.author && contentDetail.author._id)
                    //-                     .d-flex.align-items-center.mb-1
                    //-                         a.fw-bold.text-gray-800.text-hover-primary.me-2(href='#') #{contentDetail.author ? contentDetail.author.name : "Author Name"}
                    //-                         span.badge.badge-light-success.text-capitalize  #{contentDetail.author ? contentDetail.author.role : "Author Role"}
                    //-                     a.fw-semibold.text-gray-600.text-hover-primary(href=``) #{contentDetail.author ? contentDetail.author.email : "Author Email"}
                    //-                     br
                    //-                     span.fw-semibold.text-gray-600 #{contentDetail.date_created}
                    //-                 else
                    //-                     .d-flex.align-items-center.mb-1
                    //-                         a.fw-bold.text-gray-800.text-hover-primary.me-2(href='#') Author name
                    //-                         span.badge.badge-light-success.text-capitalize  Author Role
                    //-                     a.fw-semibold.text-gray-600.text-hover-primary(href=``) Author email
                    //-                     br
                    //-                     span.fw-semibold.text-gray-600 #{contentDetail.date_created}
                    //-             .separator.separator-dashed.mb-7
                    //-             .mb-7
                    //-                 h5.mb-3 Update details
                    //-                 .d-flex.align-items-center.mb-1
                    //-                     a.fw-bold.text-gray-800.text-hover-primary.me-2(href='#') Thaha
                    //-                     span.badge.badge-light-info Editor
                    //-                 a.fw-semibold.text-gray-600.text-hover-primary(href='mailto:thaha@landmarkleisure.com') thaha@landmarkleisure.com
                    //-                 br
                    //-                 span.fw-semibold.text-gray-600 27/07/2023 11:39 AM
                    //-             .separator.separator-dashed.mb-7
                    //-             //- .mb-0
                    //-                 button#kt_subscriptions_create_button.btn.btn-primary(type='submit')
                    //-                     span.indicator-label Publish
                    //-                     span.indicator-progress
                    //-                         | Please wait...
                    //-                         span.spinner-border.spinner-border-sm.align-middle.ms-2